var addDOMLoadEvent=(function(){var load_events=[],load_timer,script,done,exec,old_onload,init=function(){done=true;clearInterval(load_timer);while(exec=load_events.shift()){exec()}if(script){script.onreadystatechange=""}};return function(func){if(done){return func()}if(!load_events[0]){if(document.addEventListener){document.addEventListener("DOMContentLoaded",init,false);/*@cc_on @*//*@if (@_win32)
                document.write("<script id=__ie_onload defer src=//0><\/scr"+"ipt>");
                script = document.getElementById("__ie_onload");
                script.onreadystatechange = function() {
                    if (this.readyState == "complete")
                        init(); // call the onload handler
                };
            /*@end @*/}if(/WebKit/i.test(navigator.userAgent)){load_timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){init()}},10)}old_onload=window.onload;window.onload=function(){init();if(old_onload){old_onload()}}}load_events.push(func)}})();var Base=function(){};Base.extend=function(B,E){var F=Base.prototype.extend;Base._prototyping=true;var D=new this;F.call(D,B);delete Base._prototyping;var C=D.constructor;var A=D.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==A){this._constructing=true;C.apply(this,arguments);delete this._constructing}else{if(arguments[0]!=null){return(arguments[0].extend||F).call(arguments[0],D)}}}};A.ancestor=this;A.extend=this.extend;A.forEach=this.forEach;A.implement=this.implement;A.prototype=D;A.toString=this.toString;A.valueOf=function(G){return(G=="object")?A:C.valueOf()};F.call(A,E);if(typeof A.init=="function"){A.init()}return A};Base.prototype={extend:function(B,H){if(arguments.length>1){var E=this[B];if(E&&(typeof H=="function")&&(!E.valueOf||E.valueOf()!=H.valueOf())&&/\bbase\b/.test(H)){var A=H.valueOf();H=function(){var K=this.base||Base.prototype.base;this.base=E;var J=A.apply(this,arguments);this.base=K;return J};H.valueOf=function(J){return(J=="object")?H:A};H.toString=Base.toString}this[B]=H}else{if(B){var G=Base.prototype.extend;if(!Base._prototyping&&typeof this!="function"){G=this.extend||G}var D={toSource:null};var F=["constructor","toString","valueOf"];var C=Base._prototyping?0:1;while(I=F[C++]){if(B[I]!=D[I]){G.call(this,I,B[I])}}for(var I in B){if(!D[I]){G.call(this,I,B[I])}}}}return this},base:function(){}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(A,D,C){for(var B in A){if(this.prototype[B]===undefined){D.call(C,A[B],B,A)}}},implement:function(){for(var A=0;A<arguments.length;A++){if(typeof arguments[A]=="function"){arguments[A](this.prototype)}else{this.prototype.extend(arguments[A])}}return this},toString:function(){return String(this.valueOf())}});function addEvent(B,D,C){if(B.addEventListener){B.addEventListener(D,C,false)}else{if(!C.$$guid){C.$$guid=addEvent.guid++}if(!B.events){B.events={}}var A=B.events[D];if(!A){A=B.events[D]={};if(B["on"+D]){A[0]=B["on"+D]}}A[C.$$guid]=C;B["on"+D]=handleEvent}}addEvent.guid=1;function removeEvent(A,C,B){if(A.removeEventListener){A.removeEventListener(C,B,false)}else{if(A.events&&A.events[C]){delete A.events[C][B.$$guid]}}}function handleEvent(D){var C=true;D=D||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var A=this.events[D.type];for(var B in A){this.$$handleEvent=A[B];if(this.$$handleEvent(D)===false){C=false}}return C}function fixEvent(A){A.preventDefault=fixEvent.preventDefault;A.stopPropagation=fixEvent.stopPropagation;return A}fixEvent.preventDefault=function(){this.returnValue=false};fixEvent.stopPropagation=function(){this.cancelBubble=true};if(typeof v2==="undefined"||v2===null){v2={}}v2.empty=function empty(A){return typeof A=="undefined"||A===null||A===""};v2.array=function array(A){return v2.empty(A)?[]:(typeof A.shift=="undefined"?[A]:A)};v2.target=function(A){if(!A){return null}return A.explicitOriginalTarget||A.srcElement||A.target||null};v2.Object={extend:function(C,A,B){B=typeof B==="undefined"?false:B;for(var D in A){if(B&&typeof C[D]!=="undefined"){continue}if(A.hasOwnProperty(D)&&typeof C[D]=="undefined"){C[D]=A[D]}}return C}};v2.Object.extend(Array.prototype,{forEach:function(C,B){B=B||this;for(var A=0;A<this.length;A++){C.call(B,this[A])}},indexOf:function(C,A){for(var B=0;B<this.length;B++){if(this[B]===C){return B}}return -1},filter:function(B){var A=this.length;if(typeof B!=="function"){throw new TypeError()}var E=new Array();var D=arguments[1];var F,C;for(C=0;C<A;C++){if(C in this){F=this[C];if(B.call(D,F,C,this)){E.push(F)}}}return E}});v2.$=function(A,C){if(typeof A=="string"){A=document.getElementById(A)}C=typeof C=="undefined"?true:C;if(A===null||typeof A.hide!="undefined"||!C){return A}for(var B in v2.Element){if(v2.Element.hasOwnProperty(B)){(function(){var D=B;var E={};E[D]=function(){var F=[A];for(var G=0;G<arguments.length;G++){F.push(arguments[G])}return v2.Element[D].apply(v2.Element,F)};v2.Object.extend(A,E,true)})()}}return A};v2.$$=function $$(J,K){K=K||document;if(document.querySelectorAll){return document.querySelectorAll(J,K)}if(/^label/.test(J)){var C=J.match(/label\[for=(.*)\]/)[1];var H=K.getElementsByTagName("label");for(var G=0;G<H.length;G++){if(H[G].htmlFor==C){return[H[G]]}}}else{if(J.indexOf(",")>=0){var L=J.split(",");var B=[];for(var G=0,F;(F=L[G]);G++){F=F.replace(/^\s*|\s*$/,"");if(/\[/.test(F)){F=v2.$$(F)}else{F=K.getElementsByTagName(F)}for(var E=0;E<F.length;E++){B.push(F[E])}}return B}else{var I=J.split(".")[1];var D=J.match(/([^\[]*)\[([^\]]*)\](\[([^\]]*)\])?(\.(.*))?/);var M=D[2].split("=");var B=K.getElementsByTagName(D[1]);var F=[],A;if(!v2.empty(D[4])){M=M.concat(D[4].split("="))}if(!v2.empty(D[6])){M.push("className");M.push(D[6])}for(var G=0;G<B.length;G++){A=true;for(var E=0;E<M.length;E+=2){if(B[G][M[E]]!=M[E+1]){A=false;break}}if(A){F.push(B[G])}}return F}}return null};v2.Element={observe:function(B,C,A){addEvent(B,C,A)},computedStyle:function(A,C){var B="";if(document.defaultView&&document.defaultView.getComputedStyle){B=document.defaultView.getComputedStyle(A,"").getPropertyValue(C)}else{if(A.currentStyle){C=C.replace(/\-(\w)/g,function(D,E){return E.toUpperCase()});B=A.currentStyle[C]}}return B},visible:function(A){return v2.Element.computedStyle(A,"display")!="none"&&v2.Element.computedStyle(A,"visibility")!="hidden"&&(A.parentNode===null||A.parentNode.nodeType!=1||v2.Element.visible(A.parentNode))},hasClassName:function(B,A){return new RegExp("\\b"+A+"\\b").test(B.className)},addClassName:function(B,A){B.className+=v2.Element.hasClassName(B,A)?"":" "+A;B.className=B.className.replace("  "," ").replace(/^\s|\s$/,"");return B},removeClassName:function(B,A){var C=new RegExp("\\b"+A+"\\b");B.className=B.className.replace(C,"").replace("  "," ").replace(/^\s|\s$/,"");return B},position:function(A){var B={x:0,y:0};while(A!==null){B.x+=A.offsetLeft;B.y+=A.offsetTop;A=A.offsetParent}return B},scrollTo:function(A){var B=v2.Element.position(A);window.scrollTo(B.x,B.y)}};v2.Object.extend(Function.prototype,{bind:function(B){var A=this;A.__cc=A.__cc||[];window.__coc=window.__coc||0;if(typeof B.__id=="undefined"){B.__id=window.__coc++}A.__cc[B.__id]=A.__cc[B.__id]||function(){try{return A.apply(B,arguments)}catch(C){}};return A.__cc[B.__id]}});if(typeof addDOMLoadEvent!="undefined"){v2.addDOMLoadEvent=addDOMLoadEvent}v2.Object.extend(v2,{version:"0.1.0-SNAPSHOT",name:"Validatious 2.0 Beta"});v2.Interface=Base.extend({constructor:function(B,A){this.name=B;this.methods=v2.array(A)}},{ensure:function(C,D){var B,A,F,E;D=v2.array(D);for(B=0,F;(F=D[B]);B++){for(A=0;(E=F.methods[A]);A++){if(typeof C[E]!=="function"){throw new TypeError("Object does not implement "+F.name+", missing or wrong type: "+E+" ("+typeof (C[E])+")")}}}}});v2.Composite=new v2.Interface("v2.Composite",["add","remove","get"]);v2.FieldElement=new v2.Interface("v2.FieldElement",["getValue","getLabel","getName","setName","getParent","getElements","visible"]);v2.FormItem=new v2.Interface("v2.FormItem",["validate","test","getInvalid","setMessage","onFailure","onSuccess","passOnAny","getMessages"]);v2.CompositeFormItem=Base.extend({constructor:function(){if(v2.empty(this.__validators)){this.__validators=[]}if(v2.empty(this.__errors)){this.__errors=[]}this.__passOnAny=false;this.__message=null},add:function(A){v2.Interface.ensure(A,[v2.Composite,v2.FormItem]);this.__validators.push(A)},remove:function(A){if(typeof A==="number"&&A<this.__validators.length){A=this.__validators[A]}if(typeof A==="object"){this.__validators=this.__validators.filter(function(B){return B!==A})}},get:function(A){return this.__validators[A]},validate:function(){var A=this.test();if(A){this.__errors=[];this.onSuccess()}else{this.onFailure()}return A},test:function(){var B,A,C=0;for(B=0;(A=this.__validators[B]);B++){if(A.test()){C++}else{this.__errors.push(A)}}return this.passOnAny()&&C>0||!this.passOnAny()&&C===this.__validators.length},getInvalid:function(){return this.__errors.length===0?null:this.__errors},setMessage:function(A){this.__message=A},getMessages:function(){if(!v2.empty(this.__message)){return[this.__message]}var C=[],B,A;for(B=0,A;(A=this.__errors[B]);B++){C=C.concat(A.getMessages())}return C},passOnAny:function(A){if(typeof A!=="undefined"){this.__passOnAny=!!A}return this.__passOnAny},onSuccess:function(){},onFailure:function(){}});v2.InputElement=Base.extend({constructor:function(B,A){this.__name=null;this.__events=v2.empty(A)?["blur"]:v2.array(A);this.__elements=v2.array(B)},monitor:function(D){this.__monitored=true;var C,A,B,E;for(C=0;(B=this.__elements[C]);C++){for(A=0;(E=this.__events[C]);A++){v2.Element.observe(B,E,D)}}},getValue:function(){return this.__elements[0].value},getLabel:function(){var B=this.__elements[0];var A=v2.$$("label[for="+(B.id||B.name)+"]",B.form);return A&&A[0]},getName:function(){if(this.__name){return this.__name}var A=this.getLabel();if(A){return A.title!==""?A.title:A.innerHTML}var B=this.__elements[0];return B.id||B.name},setName:function(A){this.__name=!!A?A:null;return this},getParent:function(){return this.__elements[0].parentNode},getElements:function(){return this.__elements},visible:function(){if(!v2.$(this.getParent()).visible()){return false}for(var A=0,B;(B=this.__elements[A]);A++){if(v2.Element.visible(B)){return true}}return false}},{__fields:{},get:function(B){var C=v2.$(B),F,E,D,A;if(!C){A="input$, select$, textarea$";D=v2.$$(A.replace("$","[name="+B+"]"));C=D[0]}if(!C){throw new ArgumentError(B+" does not resolve to an HTML element!")}F=C.name||C.id;if((E=v2.InputElement.__fields[F])){return E}if(C.options){E=new v2.SelectElement(C)}else{if(C.tagName.toLowerCase()==="textarea"){E=new v2.TextareaElement(C)}else{if(C.type&&C.type=="radio"){D=v2.$$("input[type=radio][name="+C.name+"]",C.form);E=new v2.RadioElement(D)}else{if(C.type&&C.type=="checkbox"){D=v2.$$("input[type=checkbox].g_"+C.className.match(/\bg_([^\s]*)\b/)[1],C.form);E=new v2.CheckboxElement(D)}else{E=new v2.InputElement(C)}}}}return(v2.InputElement.__fields[F]=E)}});v2.RadioElement=v2.InputElement.extend({constructor:function(A){this.base(A,["click","change"])},getValue:function(){for(var B=0,A;(A=this.__elements[B]);B++){if(A.checked){return A.value}}return null},getLabel:function(){var A=this.__elements[0].parentNode;if(A.tagName.toLowerCase()==="li"){return A.parentNode.previousSibling}return this.__elements[0].previousSibling},getParent:function(){var A=this.__elements[0].parentNode;return A.tagName.toLowerCase()==="li"?A.parentNode.parentNode:A}});v2.SelectElement=v2.InputElement.extend({constructor:function(A){this.base(A,"change")},getValue:function(){var A=this.__elements[0];if(!A.multiple){return A.options[A.selectedIndex].value}var B=[];for(var C=0,D;(D=A.options[C]);C++){if(D.selected){B.push(D.value)}}return B}});v2.TextareaElement=v2.InputElement.extend({getValue:function(){return this.__elements[0].innerHTML}});v2.CheckboxElement=v2.RadioElement.extend({getValue:function(){var A=[],B,C;for(B=0,C;(C=this.__elements[B]);B++){if(C.checked){A.push(C.value)}}return A}});v2.Message=Base.extend({constructor:function(B,C,A){this.message=B;this.params=C||[];this.values=A||[]},copy:function(){return new v2.Message(this.message,this.params,this.values)},toString:function(){var C=this.message+"";for(var A=0,B=null;(B=this.params[A]);A++){C=C.replace("${"+B+"}",this.values[A])}return C}});v2.Validator=Base.extend({constructor:function(B,C,D,A){this.__name=B;this.__test=C;this.__message=D;this.__aliases=v2.array(A);this.acceptEmpty=true},test:function(C,E,D){D=typeof D==="undefined"?false:D;var B=C.getValue();var A=(this.acceptEmpty&&B==="")||this.__test(C,B,E);return(A&&!D)||(!A&&D)},getName:function(){return this.__name}},{validators:{},add:function(B){if(!B.name||!B.fn||!B.message){throw new TypeError("Options object should contain name, fn and message")}var E=new v2.Message(B.message,B.params||[]);var D=new v2.Validator(B.name,B.fn,E,B.aliases);D.acceptEmpty=typeof B.acceptEmpty==="undefined"?true:B.acceptEmpty;var F=(B.aliases||[]).concat([B.name]);for(var C=0,A;(A=F[C]);C++){v2.Validator.validators[A]=D}return D},get:function(A){var B;if((B=v2.Validator.validators[A])){return B}return null}});v2.Field=v2.CompositeFormItem.extend({instant:false,instantWhenValidated:true,constructor:function(B,A,C){this.base();this.__monitored=false;this.__element=v2.InputElement.get(B);this.instant=typeof A!=="undefined"?A:this.instant;this.instantWhenValidated=typeof C!=="undefined"?C:this.instantWhenValidated;this.__monitor(this.instant)},test:function(){if(!this.validateHidden&&!this.__element.visible()){return true}return this.base()},validate:function(){this.__monitor(this.instantWhenValidated&&!this.__monitored);return this.base()},__monitor:function(A){if(!A||this.__monitored){return }this.__monitored=true;this.__element.monitor(this.validate.bind(this))}});v2.FieldValidator=Base.extend({invert:false,constructor:function(A,B,E,D){this.input=A;this.validator=B;this.params=v2.array(E);this.error=D||B.error.copy();var C=this.error.params;if(C.length<1||C[0]!=="field"){this.error.params=["field"].concat(this.error.params)}this.error.values=[this.input.getName()].concat(this.params)},test:function(){return this.validator.test(this.input,this.params,this.invert)}});v2.Form=v2.CompositeFormItem.extend({constructor:function(A){this.base();this.__form=v2.$(A);this.__form.observe("submit",this.validate.bind(this));this.__buttons=[]},addButton:function(A){this.__buttons.push(A)},validate:function(){var C=arguments.length>0?arguments[0]:null;var D=v2.target(C);var B=this.__buttons;if(B.length>0&&D&&B.indexOf(D)<0){return true}var A=this.base();if(!A&&C){C.preventDefault();C.returnValue=false}return A}},{forms:{},get:function(C){var B=v2.$(C),A;if(B===null||B.tagName.toLowerCase()!=="form"){throw new ArgumentError("idOrElement should represent a form element")}if(!v2.empty(A=v2.Form.forms[B.id])){return A}return(v2.Form.forms[B.id]=new v2.Form(B))}});if(typeof v2=="undefined"||v2===null){v2={}}if(typeof v2.Messages=="undefined"||v2.Messages===null){v2.Messages={minLength:"${field} should be atleast ${min} characters long",maxLength:"${field} should be no more than ${max} characters long",minVal:"${field} should be atleast ${min}",maxVal:"${field} should be no bigger than ${min}",email:"${field} should be a valid email address",alpha:"${field} should only contain letters",numeric:"${field} should only contain numbers",alphaNum:"${field} should only contain letters and numbers",url:"${field} should be a valid URL",phoneNor:"${field} should be a valid norwegian phone number",autoRegNumNor:"${field} should be a valid norwegian auto registration number",required:"${field} is required",ssnNor:"${field} should be a valid norwegian social security number"}}(function(){var B=v2.Validator;var A=v2.Messages;B.add("min-length",function(D,C,E){return C.length>=E[0]},[A.minLength,"min"]);B.add("max-length",function(D,C,E){return C.length<E[0]},[A.maxLength,"max"]);B.add("min-val",function(D,C,E){return C>=E[0]},[A.minVal,"min"]);B.add("max-val",function(D,C,E){return C<=E[0]},[A.maxVal,"max"]);B.add("email",function(D,C,E){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(C)},A.email);B.add("alpha",function(D,C,E){return/^[a-zA-ZæøåÆØÅ]*$/.test(C)},A.alpha);B.add("word",function(D,C,E){return/^[a-zA-Z_\s\t\-æøåÆØÅ]*$/.test(C)},A.alpha);B.add("numeric",function(D,C,E){return/^[0-9]*$/.test(C)},A.numeric);B.add("alphanum",function(D,C,E){return/^[a-zA-Z0-9]*$/.test(C)},A.alphaNum);B.add("url",function(D,C,E){return/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(C)},A.url);B.add("phone-nor",function(D,C,E){return/^((00|\+)\d\d)?\d{8}$/.test(C.replace(/\s/g,""))},A.phoneNor);B.add("auto-regnum-nor",function(D,C,E){return/^[a-zA-Z]{1,2}[0-9]{3,5}$/.test(C.replace(/\s/g,""))},A.autoRegNumNor);B.add("required",function(D,C,E){return C!==null&&C!==""},A.required,["not-empty"],false);B.add("ssn-nor",function(N,O,E){var K=true;var I=[3,7,6,1,8,9,4,5,2,1,0];var H=[5,4,3,2,7,6,5,4,3,2,1];var G=0;var F=0;var C=O.strip();var M=parseInt(C);if((isNaN(M))||(C.length<11)){return false}for(var L=0;L<11;L++){var J=C.charAt(L)-"0";G=G+(J*I[L]);F=F+(J*H[L])}if((G%11)==0&&(F%11)==0){K=true}else{K=false;var D=C.substring(6,11);if(D=="00000"){D=C.substring(0,2);M=parseInt(D);if((M>=0)&&(M<=31)){D=C.substring(2,4);M=parseInt(D);if((M>=0)&&(M<=12)){K=true}}}}if(C.substring(6,11)=="00000"){K=false}return K},A.ssnNor)})();v2.Object.extend(v2.Validator,{prefix:""});v2.Object.extend(v2.Form,{autoValidateClass:"validate",actionButtonClass:"action",addValidationFromHTML:function(F){var A=v2.$$("input, select, textarea",F);F=new v2.Form(F);var E,D,C,G,B;for(D=0;(G=A[D]);D++){if(/^\s*$/.test(G.className)){continue}if(v2.Element.hasClassName(G,v2.Form.actionButtonClass)){F.buttons.push(G);continue}E=G.className;G=F.field(G);G.addValidation(E)}}});v2.Object.extend(v2.Field.prototype,{addValidation:function(F){var B=new v2.FieldValidation(this.field);var A=v2.Validator.prefix.replace(/^\s*|\s*$/,"");var E=new RegExp("^"+A,"");var D,H,G,C;F=typeof F=="string"?F.split(" "):F;for(j=0;(D=F[j]);j++){G=false;if(!v2.empty(A)&&!E.test(D)){continue}else{D=D.replace(E,"")}if(/^not_/.test(D)){D=D.replace(/^not_/,"");G=true}H=D.split("_");C=v2.Validator.get(H.shift(),!v2.Validator.searchAliases);if(C!==null){if(!v2.empty(this.field.title)){C=B.addValidator(C,H,new v2.Message(this.field.title))}else{C=B.addValidator(C,H)}C.invert=G}}if(B.validators.length>0){this.validations.push(B)}return this}});v2.addDOMLoadEvent(function(){var A=document.getElementsByTagName("form");for(var B=0,C;(C=A[B]);B++){if(v2.Element.hasClassName(C,v2.Form.autoValidateClass)){v2.Form.addValidationFromHTML(C)}}});v2.Object.extend(String.prototype,{validates:function(B){var A=v2.$(this);A=A.__v2||new v2.Form(A);return A.validates(B)},is:function(D,G){var C,E,F,B,A=[v2.$(this.toString())];for(C=0;F=A[C];C++){E=F.form.__v2||new v2.Form(F.form);B=E.field(F).is(D,G)}return B}});(function(){var A=String.prototype;A.isA=A.isAn=A.has=A.hasA=A.hasAn=A.is})();v2.Object.extend(v2.Form.prototype,{validates:function(A){return this.field(A)}});v2.Object.extend(v2.Field.prototype,{currentValidation:null,is:function(B,D){if(this.currentValidation){var C=this.currentValidation;this.currentValidation=null;return C.is(B,D)}var A=new v2.FieldValidation(this.field);this.validations.push(A.is(B,D));return A}});(function(){var A=v2.Field.prototype;A.isA=A.isAn=A.has=A.hasA=A.hasAn=A.is})();v2.Object.extend(v2.FieldValidation.prototype,{__condField:null,explain:function(B,C){var A=this.validators;A[A.length-1].error=new v2.Message(B,C);return this},is:function(C,D){var A=v2.array(C);for(var B=0;C=A[B];B++){if(this.__condField){this.addCondition(this.__condField,C,D)}else{this.addValidator(C,D)}}return this},and:function(A,B){return this.__andOr(A,B,true)},or:function(A,B){return this.__andOr(A,B,false)},unless:function(A){A=v2.Field.instance(A);this.__condField=A.field;A.currentValidation=this;return A},__andOr:function(A,C,B){if(this.__condField){this.passAllConditions=B;if(!v2.empty(A)){if(v2.Validator.get(A)){return this.is(A,C)}else{this.__condField=v2.$(A)}}}else{this.passAllValidators=B;if(!v2.empty(A)){return this.is(A,C)}}return this}});(function(){var A=v2.FieldValidation.prototype;A.andIs=A.andIsA=A.andIsAn=A.andHas=A.andHasA=A.andHasAn=A.and;A.orIs=A.orIsA=A.orIsAn=A.orHas=A.orHasA=A.orHasAn=A.or;A.isA=A.isAn=A.has=A.hasA=A.hasAn=A.is})();v2.Field=v2.Object.extend({validateHidden:false,displayErrors:-1,positionErrorsAbove:true,failureClass:"error",successClass:"",onFailure:function(){var J=this.onSuccess();var F="",C,G,A,K;var L=[];var I=this.field.getElements()[0];var B=this.getMessages();J.addClassName(this.failureClass);J.removeClassName(this.successClass);var E=document.createElement("ul");E.id=(I.id||I.name)+"_errors";E.className="messages";var D=this.displayErrors;var H=this.__errors.length;D=D<0||D>H?H:D;for(C=0;C<D;C++){G=B[C];if(L.indexOf(G.toString())>=0){continue}L.push(err.toString());K=document.createElement("li");K.innerHTML=G.toString();E.appendChild(K)}J.scrollTo();if(this.positionErrorsAbove){J.insertBefore(E,J.firstChild)}else{J.appendChild(E)}},onSuccess:function(){var B=this.field.getParent();var A=this.field.getElements()[0];var C=v2.$((A.id||A.name)+"_errors");if(C!==null&&B===C.parentNode){B.removeChild(C)}B.removeClassName(this.failureClass);B.addClassName(this.successClass);return B}})