<% @title = "v2.Message" %>
<script type="text/javascript">
// Opera seems to fail if this function is missing
function test() {
    assertTrue(true);
}

function testConstructor() {
    var msg = new v2.Message('A simple string');
    assertNotNull(msg.message);
    assertNotNull(msg.params);
    assertEquals(0, msg.params.length);

    msg = new v2.Message('Message for ${field}, type ${min} characters or more', ['field', 'min']);
    assertNotNull(msg.message);
    assertNotNull(msg.params);
    assertEquals(2, msg.params.length);
}

function testSetValues() {
    var msg = new v2.Message('Message for ${field}, type ${min} characters or more', ['field', 'min']);
    msg.values = ['zip', 3];
    assertNotNull(msg.values);
    assertEquals(msg.values.length, msg.params.length);
}

function testToString() {
    var msg = new v2.Message('Message for ${field}, type ${min} characters or more', ['field', 'min']);
    msg.values = ['zip', 3];
    assertEquals('Message for zip, type 3 characters or more', msg.toString());
}
</script>
<div id="test"></div>